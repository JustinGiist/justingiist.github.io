{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Justin/Documents/GitHub/justingiist.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Justin/Documents/GitHub/justingiist.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{getRandomKey}from\"../pages/ThemeSwitcher/SalesTheme/SalesTheme\";import Icon from\"./Icon/Icon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartComponent=function CartComponent(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),cartNum=_useState2[0],setCartNum=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animate=_useState4[0],setAnimate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCart=_useState6[0],setShowCart=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openContext=_useState10[0],setOpenContext=_useState10[1];useEffect(function(){var timeout=setTimeout(function(){setCartNum(props.cartItems.length);setAnimate(true);setTimeout(function(){setAnimate(false);},300);},1170);return function(){return clearTimeout(timeout);};},[props.cartItems]);useEffect(function(){var total=0;if(props.cartItems.length>0){props.cartItems.forEach(function(item){var _item$price;total+=(_item$price=item.price)!==null&&_item$price!==void 0?_item$price:0;});}var re=new RegExp(\"^-?\\\\d+(?:.\\\\d{0,\"+2+\"})?\");var regexed=total.toString().match(re);if(regexed){var price=regexed[0];var afterDecimal=price.split(\".\");if(afterDecimal[1]){if(afterDecimal[1].length===1){price=price.toString()+\"0\";}}setCartTotal(price);}else{setCartTotal(total.toString());}},[props.cartItems]);var deleteAll=function deleteAll(){props.setCartItems([]);};var deleteItem=function deleteItem(item){props.cartItems.forEach(function(cartItem,i){if(item.title===cartItem.title){props.cartItems.splice(i,1);props.setCartItems(_toConsumableArray(props.cartItems));return;}});};var contextOptions=[{label:\"Move all to Wishlist\",action:function action(){}},{label:\"Empty Cart\",action:deleteAll}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"cart\",className:\"cart \"+(animate?\" pop\":\"\"),onClick:function onClick(){return setShowCart(!showCart);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"headline four\",children:cartNum!==null&&cartNum!==void 0?cartNum:\"\"}),/*#__PURE__*/_jsx(Icon,{icon:\"Cart\"})]}),showCart&&/*#__PURE__*/_jsxs(\"div\",{className:\"cartDropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartHeader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rightPositioner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"context\",onClick:function onClick(){return setOpenContext(!openContext);},children:/*#__PURE__*/_jsx(Icon,{icon:\"Context\"})}),openContext&&/*#__PURE__*/_jsx(\"div\",{className:\"contextMenu\",children:contextOptions.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"contextMenuItem headline six\",onClick:function onClick(){setOpenContext(false);item.action();},children:item.label});})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"headline two textTitle\",children:\"My Cart\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cartChildren\",children:props.cartItems.length>0?props.cartItems.map(function(item,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"cartItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rightPositioner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"delete\",onClick:function onClick(){return deleteItem(item);},children:/*#__PURE__*/_jsx(Icon,{icon:\"Delete\"})})}),/*#__PURE__*/_jsx(\"img\",{src:item.img}),/*#__PURE__*/_jsx(\"div\",{className:\"headline four\",children:item.title})]},getRandomKey());}):/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(Icon,{icon:\"NoItems\",fontSize:80}),/*#__PURE__*/_jsx(\"div\",{className:\"headline four\",children:\"No items in cart\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button success\",style:{height:54},children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"headline three textPrimary\",children:[\"$\",cartTotal]})]})]})]});};export default CartComponent;","map":{"version":3,"sources":["C:/Users/Justin/Documents/GitHub/justingiist.github.io/src/components/CartComponent.tsx"],"names":["useEffect","useState","getRandomKey","Icon","CartComponent","props","cartNum","setCartNum","animate","setAnimate","showCart","setShowCart","cartTotal","setCartTotal","openContext","setOpenContext","timeout","setTimeout","cartItems","length","clearTimeout","total","forEach","item","price","re","RegExp","regexed","toString","match","afterDecimal","split","deleteAll","setCartItems","deleteItem","cartItem","i","title","splice","contextOptions","label","action","map","img","height"],"mappings":"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","sourcesContent":["import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\nimport { getRandomKey } from \"../pages/ThemeSwitcher/SalesTheme/SalesTheme\";\r\nimport Icon from \"./Icon/Icon\";\r\ninterface iCart {\r\n  cartItems: any[];\r\n  setCartItems: Dispatch<SetStateAction<any[]>>;\r\n}\r\nconst CartComponent = (props: iCart) => {\r\n  const [cartNum, setCartNum] = useState(0);\r\n  const [animate, setAnimate] = useState(false);\r\n  const [showCart, setShowCart] = useState<boolean>(false);\r\n  const [cartTotal, setCartTotal] = useState<string>(\"\");\r\n  const [openContext, setOpenContext] = useState<boolean>(false);\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setCartNum(props.cartItems.length);\r\n      setAnimate(true);\r\n      setTimeout(() => {\r\n        setAnimate(false);\r\n      }, 300);\r\n    }, 1170);\r\n    return () => clearTimeout(timeout);\r\n  }, [props.cartItems]);\r\n  useEffect(() => {\r\n    let total = 0;\r\n    if (props.cartItems.length > 0) {\r\n      props.cartItems.forEach((item) => {\r\n        total += item.price ?? 0;\r\n      });\r\n    }\r\n    var re = new RegExp(\"^-?\\\\d+(?:.\\\\d{0,\" + 2 + \"})?\");\r\n    let regexed = total.toString().match(re);\r\n    if (regexed) {\r\n      let price = regexed[0];\r\n      const afterDecimal = price.split(\".\");\r\n      if (afterDecimal[1]) {\r\n        if (afterDecimal[1].length === 1) {\r\n          price = price.toString() + \"0\";\r\n        }\r\n      }\r\n      setCartTotal(price);\r\n    } else {\r\n      setCartTotal(total.toString());\r\n    }\r\n  }, [props.cartItems]);\r\n  const deleteAll = () => {\r\n    props.setCartItems([]);\r\n  };\r\n  const deleteItem = (item: any) => {\r\n    props.cartItems.forEach((cartItem, i) => {\r\n      if (item.title === cartItem.title) {\r\n        props.cartItems.splice(i, 1);\r\n        props.setCartItems([...props.cartItems]);\r\n        return;\r\n      }\r\n    });\r\n  };\r\n  const contextOptions = [\r\n    { label: \"Move all to Wishlist\", action: () => {} },\r\n    { label: \"Empty Cart\", action: deleteAll },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        id=\"cart\"\r\n        className={\"cart \" + (animate ? \" pop\" : \"\")}\r\n        onClick={() => setShowCart(!showCart)}\r\n      >\r\n        <span className=\"headline four\">{cartNum ?? \"\"}</span>\r\n        <Icon icon=\"Cart\" />\r\n      </div>\r\n      {showCart && (\r\n        <div className=\"cartDropdown\">\r\n          <div className=\"cartHeader\">\r\n            <div className=\"rightPositioner\">\r\n              <div\r\n                className=\"context\"\r\n                onClick={() => setOpenContext(!openContext)}\r\n              >\r\n                <Icon icon=\"Context\" />\r\n              </div>\r\n              {openContext && (\r\n                <div className=\"contextMenu\">\r\n                  {contextOptions.map((item) => {\r\n                    return (\r\n                      <div\r\n                        className=\"contextMenuItem headline six\"\r\n                        onClick={() => {\r\n                          setOpenContext(false);\r\n                          item.action();\r\n                        }}\r\n                      >\r\n                        {item.label}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"headline two textTitle\">My Cart</div>\r\n          </div>\r\n          <div className=\"cartChildren\">\r\n            {props.cartItems.length > 0 ? (\r\n              props.cartItems.map((item, i) => {\r\n                return (\r\n                  <div key={getRandomKey()} className=\"cartItem\">\r\n                    <div className=\"rightPositioner\">\r\n                      <div className=\"delete\" onClick={() => deleteItem(item)}>\r\n                        <Icon icon=\"Delete\" />\r\n                      </div>\r\n                    </div>\r\n                    <img src={item.img} />\r\n                    <div className=\"headline four\">{item.title}</div>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <div className=\"center\">\r\n                <Icon icon=\"NoItems\" fontSize={80} />\r\n                <div className=\"headline four\">No items in cart</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"footer\">\r\n            <button className=\"button success\" style={{ height: 54 }}>\r\n              Checkout\r\n            </button>\r\n            <div className=\"headline three textPrimary\">${cartTotal}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default CartComponent;\r\n"]},"metadata":{},"sourceType":"module"}