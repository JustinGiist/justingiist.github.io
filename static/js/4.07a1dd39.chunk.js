(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{429:function(e,t,c){"use strict";c.r(t);var r=c(32),a=c(6),n=c(417),o=c(0),j=c(419),s=c(427),b=c(426),i=c(411),O=c(1);Object(n.b)({EffectComposer:b.a,RenderPass:j.a,UnrealBloomPass:s.a});var u=.02,y=75,m=64;t.default=function(e){var t=-8,c=0,j=-8,s=10,b=0,y=Object(o.useState)((function(){return w(.1,.2,.1,u,2)})),S=Object(a.a)(y,1)[0],v=Object(o.useState)((function(){return w(.1,.3,.1,u,2)})),k=Object(a.a)(v,1)[0],z=Object(o.useState)((function(){return w(.1,.4,.1,u,2)})),M=Object(a.a)(z,1)[0],T=Object(o.useState)((function(){return w(.1,.5,.1,u,2)})),G=Object(a.a)(T,1)[0],B=Object(o.useState)((function(){return w(.2,.35,.2,u,2)})),X=Object(a.a)(B,1)[0],P=Object(o.useState)((function(){return w(.16,.05,.16,u,2)})),F=Object(a.a)(P,1)[0],I=Object(o.useState)((function(){return w(.2,.25,.2,u,2)})),C=Object(a.a)(I,1)[0],E=Object(o.useState)((function(){return w(.16,.05,.16,u,2)})),A=Object(a.a)(E,1)[0],L=Object(o.useState)((function(){return w(.2,.6,.2,u,2)})),R=Object(a.a)(L,1)[0],D=Object(o.useState)((function(){return w(.15,.4,.1,u,2)})),J=Object(a.a)(D,1)[0],H=Object(o.useState)((function(){return w(.1,.6,.1,u,2)})),U=Object(a.a)(H,1)[0],q=Object(o.useState)((function(){return new i.BoxGeometry(.02,.8,.02)})),K=Object(a.a)(q,1)[0],N=Object(o.useState)((function(){return new i.SphereGeometry(.05,30,60,60)})),Q=Object(a.a)(N,1)[0],V=Object(o.useState)((function(){return w(.2,.15,.2,u,2)})),W=Object(a.a)(V,1)[0],Y=Object(o.useState)((function(){return new i.SphereGeometry(.09,30,60,60)})),Z=Object(a.a)(Y,1)[0],$=Object(o.useState)((function(){return new i.BoxGeometry(.02,.4,.02)})),_=Object(a.a)($,1)[0],ee=[new i.TorusGeometry(.05,.01,m,100).rotateX(190),new i.TorusGeometry(.04,.01,m,100).rotateX(190),new i.SphereGeometry(.05,30,60,60)],te=function(){var e=function(e){var t=e.newOrigin,c=e.basicCount,a="origin-".concat(t.x,"-").concat(t.y,"-").concat(t.z),n=Object(r.a)({},t),o="basic-block-".concat(a);return c%2===0?(n.y+=.2,Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},n),{},{y:n.y+2})),{},{geometry:F}),"".concat(o,"-top")),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},n),{},{geometry:X}),"".concat(o,"-bottom"))]})):(n.y+=-.3,Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},n),{},{y:n.y+1.5})),{},{geometry:A}),"".concat(o,"-top")),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},n),{},{geometry:C}),"".concat(o,"-bottom"))]}))},a=function(e){var t=e.newOrigin,c="origin-".concat(t.x,"-").concat(t.y,"-").concat(t.z),a=Object(r.a)({},t);return a.y+=-.75,Object(O.jsxs)(O.Fragment,{children:[ee.map((function(e,t){var c="origin-".concat(e.uuid);return Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+(t/4+2.5)})),{},{geometry:e}),"ring-geo-".concat(c))})),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+1.5})),{},{geometry:_}),"city-block-antennaTop-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+.5})),{},{geometry:Z}),"city-block-antennaMiddleBottomSphere-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},a),{},{geometry:W}),"city-block-antennaBottom-".concat(c))]})},n=function(e){var t=e.newOrigin,c="origin-".concat(t.x,"-").concat(t.y,"-").concat(t.z),a=Object(r.a)({},t);return a.y+=1.5,Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+6+3.5})),{},{geometry:Q}),"sky-scraper-sphere-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+6})),{},{geometry:K}),"sky-scraper-skyscraperTop-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+3})),{},{geometry:U}),"sky-scraper-skyscraperMiddleTop-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},a),{},{y:a.y+2})),{},{geometry:J}),"sky-scraper-skyscraperMiddleBottom-".concat(c)),Object(O.jsx)(l,Object(r.a)(Object(r.a)({},a),{},{geometry:R}),"sky-scraper-skyscraperBottom-".concat(c))]})};for(var i=function(e){var t=e.newOrigin,c=function(e){for(var t=e.length-1;t>0;t--){var c=Math.floor(Math.random()*(t+1)),r=[e[c],e[t]];e[t]=r[0],e[c]=r[1]}return e}([0,1,2,3]);return Object(O.jsx)(O.Fragment,{children:c.map((function(e,c){return function(e,t){var c="origin-".concat(t.x,"-").concat(t.y,"-").concat(t.z),a="tiered-city-block-".concat(c);switch(e){case 0:return t.y+=-.5,Object(O.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{geometry:S}),a);case 1:return Object(O.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{geometry:k}),a);case 2:return t.y+=.5,Object(O.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{geometry:M}),a);case 3:return t.y+=1,Object(O.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{geometry:G}),a)}}(e,x(c,t))}))})},u=function(t,c,r){var o="origin-".concat(c.x,"-").concat(c.y,"-").concat(c.z);if(r)return Object(O.jsx)(n,{newOrigin:c},"sky-scraper-city-block-".concat(o));switch(t){case h.Tiered:return Object(O.jsx)(i,{newOrigin:c},"tiered-city-block-".concat(o));case h.Antenna:return Object(O.jsx)(a,{newOrigin:c},"antenna-city-block-".concat(o));case h.Basic:default:return b++,Object(O.jsx)(e,{newOrigin:c,basicCount:b},"basic-city-block-".concat(o))}},y=[],m=0;m<5;m++){for(var f=[],d=0;d<5;d++){var g={x:t+4*m,y:c,z:j+4*d,s:s};2===m&&2===d?f.push(u(h.Skyscraper,g,!0)):f.push(u(p(0,3),g))}y.push(f)}var w=Object(o.useMemo)((function(){return y.map((function(e){return e.map((function(e){return e}))}))}),[y]);return Object(O.jsx)(O.Fragment,{children:w})};return Object(O.jsx)(n.a,{id:"threeD",linear:!0,camera:{rotation:new i.Euler(0,0,0),position:[0,10,37],castShadow:!0},shadows:!0,style:{minHeight:400,background:"#000000"},children:Object(O.jsxs)(d,{children:[Object(O.jsx)("directionalLight",{position:[40,10,20],castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512,color:"#000ce8",intensity:.8}),Object(O.jsx)("directionalLight",{position:[-40,10,20],castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512,color:"#9c008c",intensity:1}),Object(O.jsx)("directionalLight",{position:[0,10,-40],castShadow:!1,"shadow-mapSize-height":512,"shadow-mapSize-width":512,color:"#173dfc",intensity:.5}),Object(O.jsxs)(f,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(te,{})]})]})})};var h,f=function(e){var t=Object(o.useRef)();return Object(n.c)((function(e,c){t.current&&t.current.rotation&&(t.current.rotation.y+=.004)})),Object(O.jsx)("mesh",{ref:t,children:e.children})},d=function(e){var t=e.children,c=Object(o.useRef)(),r=Object(n.e)(),a=r.gl,j=r.camera;return Object(n.c)((function(){a.autoClear=!1,a.clearDepth(),c.current&&a.render(c.current,j)}),2),Object(O.jsx)("scene",{ref:c,children:t})},l=function(e){var t=e.geometry,c=e.x,r=e.y,a=e.z,n=e.s,o=e.color;return Object(O.jsx)("mesh",{position:[c,r,a],scale:[n,n,n],geometry:t,castShadow:!0,receiveShadow:!0,children:Object(O.jsx)("meshStandardMaterial",{color:o||"#c7e6ff",roughness:.5,metalness:1})})},g=function(){var e=Object(o.useState)([new i.TorusGeometry(.6,.01,m,y).rotateX(190),new i.TorusGeometry(.7,.01,m,y).rotateX(190),new i.TorusGeometry(.8,.01,m,y).rotateX(190),new i.TorusGeometry(.9,.01,m,y).rotateX(190),new i.TorusGeometry(1,.01,m,y).rotateX(190),new i.TorusGeometry(1.1,.01,m,y).rotateX(190),new i.TorusGeometry(1.2,.01,m,y).rotateX(190),new i.TorusGeometry(1.3,.01,m,y).rotateX(190),new i.TorusGeometry(1.4,.01,m,y).rotateX(190)]),t=Object(a.a)(e,1)[0],c={x:0,y:-3,z:0,s:10},n=Object(o.useMemo)((function(){return t.map((function(e){var t="origin-".concat(e.uuid);return Object(O.jsx)(l,Object(r.a)(Object(r.a)({},c),{},{geometry:e,color:"#8ccbff"}),t)}))}),[t]);return Object(O.jsx)(O.Fragment,{children:n})};function p(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}!function(e){e[e.Basic=0]="Basic",e[e.Tiered=1]="Tiered",e[e.Antenna=2]="Antenna",e[e.Skyscraper=3]="Skyscraper"}(h||(h={}));var x=function(e,t){var c=Object(r.a)(Object(r.a)({},t),{},{x:t.x+.5,z:t.z+.5});switch(e){case 1:c.x+=-1;break;case 2:c.z+=-1;break;case 3:c.x+=-1,c.z+=-1}return c};function w(e,t,c,r,a){var n=new i.Shape,o=1e-5,j=r-o;n.absarc(o,o,o,-Math.PI/2,-Math.PI,!0),n.absarc(o,t-2*j,o,Math.PI,Math.PI/2,!0),n.absarc(e-2*j,t-2*j,o,Math.PI/2,0,!0),n.absarc(e-2*j,o,o,0,-Math.PI/2,!0);var s=new i.ExtrudeBufferGeometry(n,{depth:c-2*r,bevelEnabled:!0,bevelSegments:2*a,steps:1,bevelSize:j,bevelThickness:r,curveSegments:a});return s.center(),s}}}]);
//# sourceMappingURL=4.07a1dd39.chunk.js.map